{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Start - SmartCredit{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Optionally include Bootstrap from CDN -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="shortcut icon" type="image/x-icon" href="{% static 'images/favicon.ico' %}">
</head>
<body class="d-flex flex-column min-vh-100">
  <!-- Navigation Bar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <div class="container">
          <!-- Brand -->
          <a class="navbar-brand fw-bold" href="{% url 'home' %}">
              <i class="bi bi-credit-card me-2"></i>SmartCredit
          </a>

          <!-- Mobile Toggle Button -->
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" 
                  aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
          </button>

          <!-- Navigation Items -->
          <div class="collapse navbar-collapse" id="navbarNav">
              <div class="ms-auto d-flex align-items-center gap-2 flex-wrap">
                  {% if user.is_authenticated %}
                      {% if user.is_moderator %}
                          <!-- Admin/Moderator Buttons -->
                          <a class="btn btn-success btn-sm" href="{% url 'admin_dashboard' %}">
                              <i class="bi bi-speedometer2 me-1"></i>Dashboard
                          </a>
                          <a class="btn btn-info btn-sm" href="{% url 'manage' %}">
                              <i class="bi bi-kanban me-1"></i>Manage
                          </a>
                      {% endif %}
                          <!-- Regular User Button -->
                          <a class="btn btn-outline-light btn-sm" href="{% url 'my_offers' %}">
                              <i class="bi bi-file-earmark-text me-1"></i>My Offers
                          </a>

                      <!-- User Info Badge -->
                      <span class="badge bg-secondary fs-6 px-2 py-1">
                          <i class="bi bi-person-circle me-1"></i>
                          {{ user.get_full_name|default:user.email|truncatechars:20 }}
                      </span>

                      <!-- Change Password Button -->
                      <a class="btn btn-outline-warning btn-sm" href="{% url 'password_change' %}">
                          <i class="bi bi-key me-1"></i>Password
                      </a>

                      <!-- Logout Button -->
                      <a class="btn btn-outline-danger btn-sm" href="{% url 'logout' %}">
                          <i class="bi bi-box-arrow-right me-1"></i>Logout
                      </a>
                  {% else %}
                      <!-- Guest User Buttons -->
                      <a class="btn btn-outline-light btn-sm" href="{% url 'signup' %}">
                          <i class="bi bi-person-plus me-1"></i>Sign Up
                      </a>
                      <a class="btn btn-warning btn-sm" href="{% url 'login' %}">
                          <i class="bi bi-box-arrow-in-right me-1"></i>Login
                      </a>
                  {% endif %}
              </div>
          </div>
      </div>
  </nav>

    {% block content %}
    <!-- Main Content -->
    <main class="container my-5 flex-grow-1">
        <h1 class="mb-4 text-center">Willkommen zur Credit Offer App</h1>
        <p class="lead text-center">
            Vielen Lieben Dank f√ºrs Besuchen. Starten wir?
        </p>
        <!-- Insert additional content or Django template tags here -->
    </main>
    {% endblock %}
    <!-- Footer -->
    <footer class="bg-light text-center py-4 mt-auto">
  <div class="container" style="max-width: 600px;">
    <!-- Links as a tabular grid -->
    <div class="row mb-3">
      <div class="col-6">
        <a href="{% url 'contact' %}" class="text-decoration-none text-secondary">Contact</a>
      </div>
      <div class="col-6">
        <a href="{% url 'data_privacy' %}" class="text-decoration-none text-secondary">Data Privacy Statement</a>
      </div>
    </div>

    <!-- Second row can be for additional info or empty for spacing -->
    <div class="row mb-3">
        <div class="col-6">
        <a href="{% url 'careers' %}" class="text-decoration-none text-secondary">Careers</a>
      </div>
      <div class="col-6">
        <a href="{% url 'more_info' %}" class="text-decoration-none text-secondary">More Information</a>
      </div>
    </div>

    <!-- All rights reserved -->
    <div class="row">
      <div class="col-12 text-muted" style="font-size: 0.9em;">
        &copy; {{ year|default:"2025" }} SmartCredit. All rights reserved.
      </div>
    </div>
  </div>
</footer>

</body>
</html>
